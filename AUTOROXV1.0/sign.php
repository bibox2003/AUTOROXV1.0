
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>sign up</title>
</head>
<style type="text/css">
	.img{
       margin-top: 1%;
			float: left;
			margin-left: 12%;
		}
		td.k2{
			background-color: #FBE0C3;
			border-radius: 14px;
            ;
		
		}
		input.a1{
			text-align: left;
			width: 150px;
			height: 30px;
			float: left;
			margin-left: 28%;
			border-radius: 30px;
			padding: 5px ;
			font-family: monospace;
			background-color: transparent;
			opacity: 0.5px;
			color: black;


		}
		select.v1{
				text-align: left;
			width: 300px;
			height: 50px;
			display: block;
			margin: 0 auto;
			border-radius: 30px;
			padding: 5px;
			font-family: arial,sans-serif;
			background-color: transparent;
			opacity: 0.5px;
			color: black;
		}
		p.d1{
			text-align: left;
			color: blue;
			font-family: monospace;
			top: 0;
		}
		input.f1{
			width: 250px;
			height: 50px;
			display: block;
			margin: 0 auto;
			border-radius: 50px;
			padding: 5px;
		}
		button.n1{
			background-color: green;
			text-align: center;
			width: 300px;
			height: 50px;
			display: block;
			margin: 0 auto;
			border-radius: 10px;
			padding: 5px;
			font-family: arial,sans-serif;
			 cursor: pointer;
            transition: transform 0.3s ease;
            
		}
		input.h1{
			background-color: navajowhite;
			text-align: center;
			width: 100px;
			height: 50px;
			display: block;
			margin: 0 auto;
			border-radius: 14px;
			margin-left: 420px;
			padding: 5px;
			font-family: arial,sans-serif;
			 cursor: pointer;
            transition: transform 0.3s ease;
            text-decoration: none;

		}
		.container{
			position: absolute;
			top: 0 auto;
			left: 320px;
			height: 120vh;
			padding: 120px;

		}
		.heading{
          text-align: center;
          position: absolute;
           top: 20px;
           left: 600px;
		}
		.heading h1{
			font-size: 36px;
            color: floralwhite;
            font-weight: bold;
		}
		.p1{
			text-align: right;
			margin-right: 200px;
			font-size: 26px;
            color: lightskyblue;
            font-weight: bold;
            top: 100px;
            position: absolute;
            right: 20px;
		}
		h1.h1{
			font-family: American Typewriter, serif;
			font-size: 40px;
			text-align: center;
			color: burlywood;
		}
		p.k1{
			font-family: monospace;
			text-align: center;
			font-size: 18px;
		}
		label {
  display: block;
  font-weight: bold;
  margin-bottom: 5px;
  color: #333;
  text-align: center;
}
a.op{
	top: 0;
}
input.b1{
			text-align: left;
			width: 150px;
			height: 30px;
			float: right;
			margin-right: 27%;
			border-radius: 30px;
			padding: 5px ;
			font-family:monospace;
			background-color: transparent;
			opacity: 0.5px;
			color: black;

		}
		input.c1{
			box-shadow: 0 0 10 px rgba(0, 0, 0, .1);
			  display: block;
              margin-bottom: 5px;
              text-align: left;
			width: 350px;
			height: 30px;
			display: block;
			margin-left: 28%;
			margin-top: 3%;
			border-radius: 30px;
			padding: 5px;
			font-family: monospace;
			background-color: transparent;
			opacity: 0.5px;
			color: black;
			float: left;


		}
		input.l1{
			box-shadow: 0 0 10 px rgba(0, 0, 0, .1);
			  display: block;
              margin-bottom: 5px;
              text-align: left;
			width: 350px;
			height: 30px;
			display: block;
			margin-left: 28%;
			margin-top: 3%;
			border-radius: 10px;
			padding: 5px;
			font-family: monospace;
			background-color: transparent;
			opacity: 0.5px;
			color: black;
			float: left;
		}
		 input.l4{
        	text-align: left;
			width: 350px;
			height: 50px;
			float: left;
			margin-left: 28%;
			border-radius: 10px;
			padding: 5px ;
			font-family: monospace;
			background-color: transparent;
			opacity: 0.5px;
			color: black;
        }
        select.v1{
         	box-shadow: 0 0 10 px rgba(0, 0, 0, .1);
			  display: block;
              margin-bottom: 5px;
              text-align: left;
			width: 350px;
			height: 30px;
			display: block;
			margin-left: 28%;
			margin-top: 3%;
			border-radius: 30px;
			padding: 5px;
			font-family: monospace;
			background-color: transparent;
			opacity: 0.5px;
			color:wheat;
			float: left;
         }
         input.g1{
			background-color: green;
			text-align: center;
			width: 250px;
			height: 50px;
			display: block;
			margin: 0 auto;
			float: right;
			margin-top: 3%;
			margin-right: 30%;
			margin-bottom: 3%;
			border-radius: 30px;
			padding: 5px;
			font-family: monospace;
			 cursor: pointer;
            transition: transform 0.3s ease;
            
		}
		p.kl{

			  display: inline-block;
              margin-bottom: 5px;
              text-align: left;
			width: 350px;
			height: 30px;
			display: block;
			margin-left: 28%;
			
			
			padding: 5px;
			font-family: monospace;
			
			font-size: 18px;
			font-weight: bold;
			color: black;
			float: left;

		}
</style>
<body>
 <table   height="600px" width="100%">
  	<tr><td class="k2" width="30%" height="80px">
  		<img  class="img" src="pictures/t1.png" width="80%" height="150px">
  	</td>
  	<div class="container">
  	<td width="50%">
	<?php
$server = "localhost";
$user = "root";
$password = "";
$db = "auto";
$con = mysqli_connect($server, $user, $password, $db);

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $fn = $_POST['firstname'];
    $ln = $_POST['lastname'];
    $ge = $_POST['gender'];
    $em = $_POST['email'];
    $pw = $_POST['password'];

    if ($_POST['usertype'] === 'driver') {
        $ad = $_POST['province'];
        $ho = $_POST['district'];
        $bt = $_POST['dob'];

        $query = "INSERT INTO drivers (firstname, lastname, province, district, gender, password, email, dob)
                  VALUES ('$fn', '$ln', '$ad', '$ho', '$ge', '$pw', '$em', '$bt')";
        $result = mysqli_query($con, $query);
        if ($result) {
            echo "Registered successfully as a driver";
        } else {
            die("Not inserted: " . mysqli_error($con));
        }
    } elseif ($_POST['usertype'] === 'mechanic') {
        $sp = $_POST['specialization'];

        $query = "INSERT INTO mechanics (firstname, lastname, specialization, gender, password, email)
                  VALUES ('$fn', '$ln', '$sp', '$ge', '$pw', '$em')";
        $result = mysqli_query($con, $query);
        if ($result) {
            echo "Registered successfully as a mechanic";
        } else {
            die("Not inserted: " . mysqli_error($con));
        }
    } elseif ($_POST['usertype'] === 'admin') {
        $query = "INSERT INTO admin (firstname, lastname, gender, password, email)
                  VALUES ('$fn', '$ln', '$ge', '$pw', '$em')";
        $result = mysqli_query($con, $query);
        if ($result) {
            echo "Registered successfully as an admin";
        } else {
            die("Not inserted: " . mysqli_error($con));
        }
    } else {
        echo "Please fill in all the fields.";
    }
}
?>


<h1 class="h1">Welcome to <b>AUTO ROX</b></h1>
<P class="k1">Sign up to access Auto rox services</P><br/>
<form method="POST" action="sign.php">
      <select class="v1" name="usertype" id="usertype" placeholder="sign up as">
      <option value="driver">Driver</option>
      <option value="mechanic">Mechanic</option>
      <option value="admin">admin</option>
    </select>
    <p><input class="a1" type="text" name="firstname" id="Fname" size="20px" placeholder="First name"></p>
    <p><input class="b1" type="text" name="lastname" id="Lname" size="20px" placeholder="Last name"></p>
      <p class="kl">male<input type="radio" id="male" name="gender" value="M" placeholder="male">
    female<input type="radio" id="female" name="gender" value="F" placeholder="Female"></p>
    <p><input class="c1" type="password" name="password" id="password" size="20px" placeholder="Password"></p>
    <p><input class="c1" type="text" name="email" id="Email" size="20px" placeholder="Email"></p>

     <div id="driverFields" style="display: none;">
     	<p><input class="c1" type="text" name="province" id="province" size="20px" placeholder="province"></p>
    <p><input class="c1" type="text" name="district" id="district" size="20px" placeholder="district"></p>
    <p><input class="c1" type="date" name="dob" id="DOB" size="20px" placeholder="DOB"></p>
</div>
<div id="mechanicFields" style="display: none;">
	<p><input class="c1" type="text" name="specialization" id="specialization" size="20px" placeholder="specialization"></p>
    </div>
     <p><input class="g1" type="submit" name="submit" value="SIGN UP" size="20px"></p>
</form>
  	</td>
  </div>
  </tr>
  	</div>
  </table>
  <script>
    // Show/hide specific fields based on the selected option
    const optionSelect = document.getElementById('usertype');
    const driverFields = document.getElementById('driverFields');
    const mechanicFields = document.getElementById('mechanicFields');

    optionSelect.addEventListener('change', function() {
      if (this.value === 'driver') {
        driverFields.style.display = 'block';
        mechanicFields.style.display = 'none';
      } else if (this.value === 'mechanic') {
        driverFields.style.display = 'none';
        mechanicFields.style.display = 'block';
      } else if (this.value === 'admin') {
        driverFields.style.display = 'none';
        mechanicFields.style.display = 'none';
      }
    });
</script>
</body>

</html>